# LostSignal

Простой сервис для отслеживания инцидентов с устройствами (например, самокатами).  
Позволяет создавать, закрывать и просматривать инциденты через веб-интерфейс и API.

## Установка

1. Клонировать репозиторий:

```bash
git clone <ссылка-на-репозиторий>
cd <папка проекта>
```
2. Создать виртуальное окружение и установить зависимости:
```bash
python3 -m venv .venv
source .venv/bin/activate  # Linux/macOS
.venv\Scripts\activate     # Windows
pip install -r requirements.txt
```
3.Применить миграции: 
```bash
python manage.py migrate
```
4. Запустить сервер:
```bash
python manage.py runserver
```
Эндпоинты
1. Создание инцидента через API (от бота)
URL: /api/pingloss/
Метод: POST
Body (JSON):
{
  "description": "Связь с самокатом потеряна",
  "device_id": "1221",
  "ping_status": "loss"
}
{
  "description": "Связь с самокатом потеряна",
  "device_id": "1221",
  "ping_status": "loss"
}
есть файлик simulate_bot_loss, меняя ping_status и device_id можно протестировать, запись в базу данных и
изменения статуса по API.

2. Веб-интерфейс для просмотра и управления инцидентами
URL: /allerts/
Метод: GET
Описание: отображает таблицу всех инцидентов, позволяет:
фильтровать по статусу (open / resolved)
создавать новые инциденты вручную
менять статус инцидента по ID
добавлено поле device_id для отслеживания статуса устройства, потом можно проанализировать частые сбои на устройстве
и принять меры.


4. Примеры ручного создания через форму
Ввести описание
Выбрать источник (operator, monitoring, partner)
Указать device_id (опционально)
Нажать «Создать»
